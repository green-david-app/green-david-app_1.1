(function(){function e(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstElementChild}function t(){return e('\n      <div class="card" style="background:#1f2a27;color:#e9f6ef;border:none;border-radius:10px;margin-bottom:1rem">\n        <div class="card-body">\n          <ul class="nav nav-tabs" role="tablist" id="gd-tabs">\n            <li class="nav-item" role="presentation">\n              <button class="nav-link active" id="gd-tab-emps" data-bs-toggle="tab" data-bs-target="#gd-pane-emps" type="button" role="tab" aria-controls="gd-pane-emps" aria-selected="true">Team</button>\n            </li>\n            <li class="nav-item" role="presentation">\n              <button class="nav-link" id="gd-tab-brigs" data-bs-toggle="tab" data-bs-target="#gd-pane-brigs" type="button" role="tab" aria-controls="gd-pane-brigs" aria-selected="false">Brigádníci</button>\n            </li>\n          </ul>\n          <div class="tab-content pt-3">\n            <div class="tab-pane fade show active" id="gd-pane-emps" role="tabpanel" aria-labelledby="gd-tab-emps"></div>\n            <div class="tab-pane fade" id="gd-pane-brigs" role="tabpanel" aria-labelledby="gd-tab-brigs">\n              <div id="gd-brigs-root"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ')}function n(e){e.innerHTML='\n      <div class="card" style="background:#1f2a27;color:#e9f6ef;border:none;border-radius:10px;margin-bottom:1rem">\n        <div class="card-header bg-transparent border-0"><strong>Nový brigádník</strong></div>\n        <div class="card-body">\n          <form class="row g-2 align-items-center" onsubmit="return false;">\n            <div class="col-md">\n              <input id="gd-brig-name" type="text" class="form-control" placeholder="Jméno">\n            </div>\n            <div class="col-md">\n              <input id="gd-brig-role" type="text" class="form-control" value="Brigádník" placeholder="Role">\n            </div>\n            <div class="col-auto">\n              <button id="gd-brig-add" class="btn btn-success">Přidat</button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      <div class="card" style="background:#1f2a27;color:#e9f6ef;border:none;border-radius:10px;">\n        <div class="card-header bg-transparent border-0"><strong>Seznam</strong></div>\n        <div class="table-responsive">\n          <table class="table table-dark table-striped table-hover m-0" id="gd-brigs-table">\n            <thead>\n              <tr>\n                <th style="width:60px">ID</th>\n                <th>Jméno</th>\n                <th>Role</th>\n                <th style="width:220px"></th>\n              </tr>\n            </thead>\n            <tbody></tbody>\n          </table>\n        </div>\n      </div>\n    ';async function t(){const t=await fetch('/gd/api/brigadnici'),n=await t.json(),o=e.querySelector('#gd-brigs-table tbody');o.innerHTML='';for(const e of n){const t=document.createElement('tr');t.innerHTML=`\n          <td>${e.id}</td>\n          <td>${e.name}</td>\n          <td>${e.role}</td>\n          <td class="text-end">\n            <button class="btn btn-sm btn-outline-danger" data-del-id="${e.id}">Smazat</button>\n          </td>`,o.appendChild(t)}}async function o(){const n=e.querySelector('#gd-brig-name').value.trim(),o=e.querySelector('#gd-brig-role').value.trim()||'Brigádník';n&&(await fetch('/gd/api/brigadnici',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:n,role:o})}),e.querySelector('#gd-brig-name').value='',await t())}async function a(t){await fetch('/gd/api/brigadnici/'+t,{method:'DELETE'}),await l()}e.addEventListener('click',(e=>{const t=e.target.closest('button[data-del-id]');t&&a(t.getAttribute('data-del-id'))})),e.querySelector('#gd-brig-add').addEventListener('click',o),document.getElementById('gd-tab-brigs')?.addEventListener('shown.bs.tab',t)}function o(){const e=document.querySelector('.container, .container-fluid, main, body');if(!e)return;const o=document.createElement('div'),a=Array.from(e.children);a.forEach((t=>{'SCRIPT'!==t.tagName&&'NAV'!==t.tagName&&o.appendChild(t)}));const r=t();e.appendChild(r);const d=r.querySelector('#gd-pane-emps');d.appendChild(o);const i=r.querySelector('#gd-brigs-root');n(i)}'loading'===document.readyState?document.addEventListener('DOMContentLoaded',o):o();})();