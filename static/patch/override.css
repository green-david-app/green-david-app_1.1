
/* === green david SAFE mobile fixes (v3) === */
:root{ --vh:100vh; }
html,body{max-width:100%;overflow-x:hidden; height:auto; overflow-y:auto !important;}
body{-webkit-text-size-adjust:100%}
.gd-scroll{overflow:auto;-webkit-overflow-scrolling:touch}

/* Hide 'Přihlášen…' header strip everywhere (no replacement badge) */
.header-right, .topbar-right, .login, .logged, [class*="prihlas"], [class*="Přihlášen"], [class*="Přihlášený"]{
  display:none !important;
}

/* Calendar compact layout + expandable day panel (mobile-first) */
@media (max-width: 900px){
  .calendar-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px}
  .gd-day{position:relative;background:rgba(255,255,255,.02);border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:10px;transition:background .2s}
  .gd-day-panel{max-height:0;overflow:hidden;transition:max-height .25s ease}
  .gd-day.open .gd-day-panel{max-height:220px}
}
@media (min-width: 901px){
  .gd-day-panel{max-height:none;overflow:visible}
}

/* Timesheets modal – internal scroll on iOS */
.modal-backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.45);z-index:1000;padding:16px}
.modal-backdrop.show{display:flex}
.modal-card{max-width:min(720px,96vw);width:100%;max-height:80vh;border-radius:16px;background:#fff;color:#0f1519;padding:16px;overflow:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}
@media (prefers-color-scheme: dark){ .modal-card{background:#1f2326;color:#e7edf0} }

#js-error{display:none !important;} #js-error.show{display:block !important;}




/* === Calendar boxed month layout (CSS-only) === */
:root{ --gd-cal-gap: 14px; --gd-cal-min: 135px; }
.calendar-grid, .calendar-month, #calendarGrid, .cal-grid{
  display:grid !important;
  grid-template-columns: repeat(auto-fit, minmax(var(--gd-cal-min), 1fr)) !important;
  gap: var(--gd-cal-gap) !important;
  align-items: stretch;
}
/* likely day cells */
.cal-day, .day, .day-cell, .calendar-day, .month-day, .gd-cal-day{
  background: rgba(255,255,255,.02);
  border: 1px solid rgba(0,0,0,.12);
  border-radius: 16px;
  padding: 10px 10px 12px;
  position: relative;
  overflow: hidden;
}
/* date number in corner */
.cal-day .num, .day .num, .day-cell .num, .calendar-day .num, .month-day .num{
  font-weight: 600; opacity: .8;
}
/* events inside stay clickable */
.cal-day a, .day a, .day-cell a, .calendar-day a, .month-day a{ position: relative; z-index: 1; }
/* make sure the grid doesn't block page scroll */
.calendar-grid, .calendar-month, #calendarGrid, .cal-grid{ overflow: visible; }
/* mobile tuning */
@media (max-width: 640px){
  :root{ --gd-cal-min: 140px; --gd-cal-gap: 10px; }
}
