/* === Responsive fixes for mobile (green-david app) === */
html, body {
  max-width: 100%;
  overflow-x: hidden; /* kill horizontal scroll */
}
* { box-sizing: border-box; }

/* Typical main wrappers */
.container, .content, main, .page-content {
  width: 100%;
  margin: 0 auto;
  padding: 0 12px;
}

.layout-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

/* Calendar wrappers */
#calendar,
.calendar,
.calendar-wrapper {
  min-width: 0;
}

.calendar-wrapper {
  display: block;
  overflow-x: hidden;
  overflow-y: auto; /* scroll DOWN, never sideways */
}

/* FullCalendar specific tweaks */
.fc {
  max-width: 100%;
}

.fc-scroller, .fc-scroller-liquid-absolute, .fc-scroller-harness {
  overflow-x: hidden !important;
  overflow-y: auto !important;
}

.fc .fc-toolbar.fc-header-toolbar {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.fc .fc-toolbar-title {
  font-size: 1.1rem;
  line-height: 1.2;
}

#calendar {
  min-height: calc(100vh - 220px);
}

/* Tables (timesheets) â€“ responsive stacked on small screens */
table.responsive, .table.responsive {
  width: 100%;
  display: block;
  overflow-x: auto; /* fallback if some table still needs horizontal scroll */
}

@media (max-width: 680px) {
  .layout-grid {
    display: block; /* one column on mobile */
  }

  .sidebar {
    display: none; /* hide if a sidebar exists */
  }

  table.responsive thead {
    display: none;
  }
  table.responsive, table.responsive tbody, table.responsive tr, table.responsive td {
    display: block;
    width: 100%;
  }
  table.responsive tr {
    margin-bottom: 10px;
    border-bottom: 1px solid rgba(0,0,0,.08);
  }
  table.responsive td {
    padding-left: 45%;
    position: relative;
    word-break: break-word;
  }
  table.responsive td::before {
    content: attr(data-label);
    position: absolute;
    left: 8px;
    top: 50%;
    transform: translateY(-50%);
    width: 40%;
    font-weight: 600;
    white-space: nowrap;
  }
}

/* === Calendar Hotfix 1.2 (iOS/Safari dayGrid overlap/overflow) === */
:root { --gd-radius: 14px; }

.fc .fc-daygrid-day-frame{
  position: relative;
  border-radius: var(--gd-radius);
  overflow: hidden;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* events must respect cell width + wrap */
.fc .fc-daygrid-event-harness{ position: static !important; }
.fc .fc-daygrid-event,
.fc .fc-daygrid-block-event .fc-event-main{
  max-width: 100% !important;
  width: 100% !important;
  white-space: normal !important;
  word-break: break-word;
  -webkit-hyphens: auto;
  hyphens: auto;
  overflow: hidden;
  text-overflow: clip;
}

@media (max-width: 680px){
  .fc .fc-daygrid-day-frame{ min-height: 118px; }
  .fc .fc-daygrid-event{ margin-right: 0 !important; }
}

/* safe area bottom on iPhone */
body{ padding-bottom: max(0px, env(safe-area-inset-bottom)); }