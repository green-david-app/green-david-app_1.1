{% extends "layout.html" %}
{% block content %}
<style>
/* (styles unchanged) */
.ts-sticky{ position:sticky; top:64px; z-index:50; background:#1f2a24; border:1px solid #32433b; border-radius:16px; padding:8px 12px; color:#fff; margin-bottom:10px; }
.ts-row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.ts-row .spacer{ flex:1; }
.page-title{ font-size:18px; line-height:1.2; margin:0; font-weight:800; }
.small{ font-size:12px; opacity:.85; }
.ts-sticky select, .ts-sticky input[type="date"]{ height:30px; }
.ts-sticky button{ height:30px; }
.week-lanes{ display:flex; flex-direction:column; gap:10px; }
.lane{ border-radius:12px; overflow:hidden; }
.lane.lane-dark{ background:#25322c; border:1px solid #384a42; color:#f2fbf7; }
.lane-head{ display:flex; justify-content:space-between; align-items:center; padding:8px 12px; background:#2b3a33; border-bottom:1px solid #3a4e45; font-size:13px; }
.lane-head .title{ font-weight:700; }
.lane-body{ padding:8px 10px; display:flex; flex-direction:column; gap:6px; min-height:44px; }
.entry-pill{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:5px 8px; border-radius:9px; background:#eaf4ed; color:#1d2b23; border:1px solid #cfe3d5; font-size:13.5px; }
.entry-main{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.entry-name{ font-weight:700; }
.entry-hours{ padding:0 8px; border-radius:999px; border:1px solid #b7d2c0; background:#dff0e6; font-weight:700; font-size:12.5px; }
.add-row{ display:flex; justify-content:flex-end; padding:8px 10px; border-top:1px dashed #3a4e45; }
.add-pill{ border:1px dashed #6ea58e; border-radius:999px; padding:6px 12px; background:#395046; color:#fff; cursor:pointer; font-weight:700; }
.add-pill:hover{ background:#436055; }
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; align-items:center; justify-content:center; z-index:1000; }
.modal-card{ width:min(560px,92vw); }
.form-grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.form-grid .span2{ grid-column:1 / -1; }
.actions{ display:flex; gap:8px; justify-content:flex-end; }
</style>

<div class="ts-sticky">
  <!-- Removed ts-nav duplicate link row -->
  <div class="ts-row" style="margin-top:6px;">
    <a href="/" class="btn ghost">← Zpět na hlavní</a>
    <h1 class="page-title">Výkazy hodin — týden</h1>
    <div class="spacer"></div>
    <label>Filtrovat zakázku <select id="filterJob"><option value=''>Vše</option></select></label>
    <label>Filtrovat zaměstnance <select id="filterEmployee"><option value=''>Všichni</option></select></label>
    <button id="exportCsv">Export CSV (týden)</button>
  </div>
  <div class="ts-row" style="margin-top:6px;">
    <label>Týden od <input id="weekStart" type="date"/></label>
    <button id="prevWeek" class="ghost">← Předchozí</button>
    <button id="nextWeek" class="ghost">Následující →</button>
    <span id="weekLabel" class="small"></span>
  </div>
</div>

<div id="lanes" class="week-lanes"></div>

<!-- Modal (unchanged, kept for context) -->
<div id="modal" class="modal-backdrop" style="display:none;">
  <div class="card modal-card">
    <div class="card-h"><div id="modalTitle">Nový záznam</div></div>
    <div class="card-c form-grid">
      <label>Zaměstnanec <select id="fEmployee"></select></label>
      <label>Zakázka <select id="fJob"></select></label>
      <label>Datum <input id="fDate" type="date"/></label>
      <label>Hodin <input id="fHours" type="number" min="0" step="0.25" placeholder="8"/></label>
      <label>Místo <input id="fPlace" type="text"/></label>
      <label class="span2">Činnost <textarea id="fActivity" rows="2"></textarea></label>
    </div>
    <div class="card-f actions">
      <button id="btnDelete" class="ghost" style="display:none;">Smazat</button>
      <button id="btnCancel" class="ghost">Zrušit</button>
      <button id="btnSave">Uložit</button>
    </div>
  </div>
</div>

{% endblock %}
