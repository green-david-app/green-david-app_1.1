{% extends "layouts/layout_mobile_" + mobile_mode + ".html" %}

{% block content %}
<div class="widget-dashboard" data-mode="{{ mobile_mode }}">
    {% if widgets %}
        {% for widget_id in widgets %}
            {% set widget = widget_registry[widget_id] %}
            {% if widget %}
            <div class="widget widget-{{ widget.size }}" data-widget-id="{{ widget_id }}">
                <div class="widget-header">
                    <h3>{{ widget.title }}</h3>
                </div>
                <div class="widget-content">
                    {% include widget.template with context %}
                </div>
            </div>
            {% endif %}
        {% endfor %}
    {% else %}
        <div class="empty-state">
            <p>Žádné widgety k zobrazení</p>
            <a href="/mobile/edit-dashboard" class="btn btn-primary">
                Nastavit widgety
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}
