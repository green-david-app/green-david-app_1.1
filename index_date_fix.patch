diff --git a/index.html b/index.html
--- a/index.html
+++ b/index.html
@@ -1,16 +1,36 @@
-      function toISODateFlex(v){
-        if(!v) return v;
-        // Remove everything except digits
-        const d = String(v).replace(/\D+/g, '');
-        if(d.length !== 8) return v; // keep original if not 8 digits
-        // Decide if it's YYYYMMDD or DDMMYYYY
-        const yFirst = parseInt(d.slice(0,4),10);
-        let y,m,day;
-        if(yFirst >= 1900 && yFirst <= 2100){
-          y = yFirst; m = parseInt(d.slice(4,6),10); day = parseInt(d.slice(6,8),10);
-        } else {
-          day = parseInt(d.slice(0,2),10); m = parseInt(d.slice(2,4),10); y = parseInt(d.slice(4,8),10);
-        }
-        if(!(y && m && day)) return v;
-        const pad = (n)=> String(n).padStart(2,'0');
-        return `${y}-${pad(m)}-${pad(day)}`;
-      }
+      function toISODateFlex(v){
+        if(!v) return v;
+        const s = String(v).trim();
+        // 1) Prefer DD.MM.RRRR (nebo s mezerami/pomlčkami)
+        const m = s.match(/^(\d{1,2})[\.\s-](\d{1,2})[\.\s-](\d{4})$/);
+        if(m){
+          const dd = m[1].padStart(2,'0');
+          const mm = m[2].padStart(2,'0');
+          const yyyy = m[3];
+          return `${yyyy}-${mm}-${dd}`;
+        }
+        // 2) Akceptuj ISO YYYY-MM-DD
+        if(/^(\d{4})-(\d{2})-(\d{2})$/.test(s)) return s;
+        // 3) 8 číslic bez oddělovačů
+        const d = s.replace(/\D+/g, '');
+        if(d.length === 8){
+          const yFirst = parseInt(d.slice(0,4),10);
+          let y, mm, dd;
+          if(yFirst >= 1900 && yFirst <= 2100){
+            y = yFirst; mm = parseInt(d.slice(4,6),10); dd = parseInt(d.slice(6,8),10);
+          } else {
+            dd = parseInt(d.slice(0,2),10); mm = parseInt(d.slice(2,4),10); y = parseInt(d.slice(4,8),10);
+          }
+          const pad = (n)=> String(n).padStart(2,'0');
+          if(y && mm>=1 && mm<=12 && dd>=1 && dd<=31) return `${y}-${pad(mm)}-${pad(dd)}`;
+        }
+        return v;
+      }
