
<!-- Minimal injector: mounts a search form into the top tab bar -->
<script>
(function(){
  function byText(el, texts){
    const t = (el.textContent||"").toLowerCase();
    return texts.every(x=>t.includes(x));
  }
  function findTabBar(){
    const candidates = Array.from(document.querySelectorAll("div,nav,header,section"));
    const keys = ["kalendář","uživatelé"]; // heuristics for your Czech tabs
    for(const el of candidates){
      if(byText(el, keys) && el.children.length>=3){
        return el;
      }
    }
    return null;
  }
  function mount(){
    if(document.getElementById("gd-global-search")) return;
    const bar = findTabBar();
    if(!bar) return;
    bar.style.display = bar.style.display || "flex";
    bar.style.alignItems = bar.style.alignItems || "center";
    bar.style.gap = bar.style.gap || "8px";
    // container
    const wrap = document.createElement("form");
    wrap.id = "gd-global-search";
    wrap.action = "/search";
    wrap.method = "GET";
    wrap.style.display = "flex";
    wrap.style.gap = "8px";
    wrap.style.margin = "0 auto";
    wrap.style.maxWidth = "600px";
    wrap.style.flex = "1 1 auto";
    // input
    const input = document.createElement("input");
    input.type = "text";
    input.name = "q";
    input.placeholder = "Hledat…";
    input.style.flex = "1 1 auto";
    input.style.padding = "8px 10px";
    input.style.borderRadius = "8px";
    input.style.border = "1px solid rgba(255,255,255,.25)";
    input.style.background = "#fff";
    input.style.color = "#222";
    // button
    const btn = document.createElement("button");
    btn.textContent = "Hledat";
    btn.style.border = "0";
    btn.style.borderRadius = "8px";
    btn.style.padding = "8px 12px";
    btn.style.background = "#2bb673";
    btn.style.color = "#fff";
    btn.style.fontWeight = "600";
    // assemble
    wrap.appendChild(input);
    wrap.appendChild(btn);
    // place near center – try to put after the middle child
    const mid = Math.floor(bar.children.length/2);
    if(bar.children[mid]){
      bar.insertBefore(wrap, bar.children[mid].nextSibling);
    }else{
      bar.appendChild(wrap);
    }
  }
  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", mount);
  }else{
    mount();
  }
})();
</script>
